# 3. PHP on IIS as FastFGI module

## Install PHP on windows

```cmd
winget search php
winget install PHP.PHP.8.4 --location "c:\php\8.4"
```

## Configuring PHP with IIS

Like we can read in [PHP](https://www.php.net/manual/en/install.windows.iis.php) manual page.

> In IIS Manager (1), Install FastCGI module (2) and add a handler mapping for .php to the path to php-cgi.exe (not php.exe) (3)


## 1. Install IIS on windows

### Check if IIS is installed

```cmd
get-service w3svc
```
If not installed
> get-service : Cannot find any service name 'w3svc'

### Install

```cmd
Dism /Online /Enable-Feature /FeatureName:IIS-DefaultDocument /All

Dism /Online /Enable-Feature /FeatureName:IIS-ASPNET45 /All
```

### 2. Install FastCGI module

Under `Windows Features`
Internet Information Services \ World Wide Web Services \ Application Development Features \ CGI

### 3. Configure PHP with IIS

Register module with 
```
Request path: *.php
Module: FastCgiModule
Executable: c:\php\8.4\php-cgi.exe
Name: PHP
```


- [URL Rewrite](https://iis-umbraco.azurewebsites.net/downloads/microsoft/url-rewrite) 